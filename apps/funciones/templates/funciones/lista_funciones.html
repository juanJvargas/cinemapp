{% extends 'base.html' %}
{% load staticfiles %}
{% load bootstrap3 %}


{% block titulo %}Lista de funciones{% endblock titulo %}
{% block descripcion_pagina %} Lista las funciones CINEMAPP {% endblock descripcion_pagina %}
{% block miga_pan %}
	<li><a href="{% url 'accounts:home' %}"><i class="fa fa-dashboard"></i> DASHBOARD</a></li>
	<li class="active">LISTAR FUNCIONES</li>
{% endblock miga_pan %}

{% block css %}
	<link rel="stylesheet" href="{% static 'bower_components/datatables.net-bs/css/dataTables.bootstrap.min.css' %}">
	<link href="{% static 'bower_components/datatables.net-bs/responsive/responsive.dataTables.min.css' %}"
	      rel="stylesheet">

	<style media="screen">
		.select2-container {
			width: 100% !important;
		}
	</style>
{% endblock css %}


{% block contenido %}
	<div class="col-md-12">
		<div class="box box-primary">
			<div class="box-header">
				<h3 class="box-title">Listado de Funciones</h3>
			</div>
			<div class="box-body">
				<table id="tabla_funciones" class="table table-striped table-bordered">
					<thead>
					<tr>
						<th>Pelicula</th>
						<th>Fecha</th>
						<th>Hora</th>
						<th>Sala</th>
						<th>Acciones</th>
					</tr>
					</thead>
					<tbody>
					{% for funcion in funciones %}
						<tr>
							<td>{{ funcion.pelicula }}</td>
							<td>{{ funcion.fecha_funcion|date:"l d M Y" }}</td>
							<td>{{ funcion.hora_funcion }}</td>
							<td>{{ funcion.sala }}</td>
							<td>
								{% if funcion.pelicula.is_estreno %}
									<a href="{% url 'boletas:vender_boleta' %}">Consultar</a>
								{% else %}
									<a href="{% url 'boletas:crear_reserva' funcion.pelicula.slug funcion.id %}">Consultar</a>
								{% endif %}
							</td>
						</tr>
					{% endfor %}

					</tbody>
				</table>
			</div>
		</div>
	</div>


{% endblock contenido %}

{% block js %}
	<script src="{% static 'bower_components/datatables.net/js/jquery.dataTables.min.js' %}"></script>
	<script src="{% static 'bower_components/datatables.net-bs/js/dataTables.bootstrap.min.js' %}"></script>
	<script src="{% static 'bower_components/datatables.net-bs/responsive/dataTables.responsive.min.js' %}"></script>

	{{ form.media.js }}

{% endblock js %}